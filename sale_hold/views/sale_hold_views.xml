<?xml version="1.0" encoding="UTF-8"?>
<odoo>
<data>
<!--   <record id="sale_order_hold_view_main_form" model="ir.ui.view">-->
<!--      <field name="name">sale.order.hold.view.main.form</field>-->
<!--      <field name="model">sale.hold</field>-->
<!--      <field name="arch" type="xml">-->
<!--         <form string="Holds">-->
<!--            <sheet>-->
<!--                     <field name="name" />-->
<!--                     <field name="blocks_production" />-->
<!--                     <field name="blocks_delivery" />-->
<!--                     <field name="color" />-->
<!--                     <field name="active" />-->
<!--                     <field name="group_ids" />-->
<!--                     <field name="credit_hold" />-->
<!--                     <field name="promostandards_hold_description" />-->
<!--            </sheet>-->
<!--         </form>-->
<!--      </field>-->
<!--   </record>-->
   <record id="sale_form_view_hold" model="ir.ui.view">
      <field name="name">sale.order.form.hold.inherit</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form" />
      <field name="arch" type="xml">
         <!-- Statusbar widget should also contain the new statuses -->
         <!--<field name="state" position="replace">
            <field name="state" widget="statusbar" statusbar_visible="draft,hold,sent,sale,invoiced,done" statusbar_colors="{&quot;invoice_except&quot;:&quot;red&quot;,&quot;waiting_date&quot;:&quot;blue&quot;}" />
         </field>-->


         <xpath expr="//form//field[@name='partner_shipping_id']" position="after">
<!--            <field name="order_holds" widget="many2many_tags" />-->
            <field name="order_holds"   widget="many2many_tags" options="{'no_create_edit': True}" domain="[('active', '=', True)]"/>
         </xpath>
         <xpath expr="//form//field[@name='partner_shipping_id']" position="after">
<!--            <field name="order_holds" widget="many2many_tags" />-->
            <field name="on_hold"  attrs="{'invisible': True}"/>
            <field name="approved_credit"  attrs="{'invisible': True}"/>
            <field name="had_credit_hold"  attrs="{'invisible': True}"/>
            <field name="is_automated_hold" attrs="{'invisible': True}"/>
            <field name="on_shipping_hold"  attrs="{'invisible': True}"/>
         </xpath>
      </field>
   </record>



      <record id="sale_form_view_hold_acct" model="ir.ui.view">
      <field name="name">sale.order.form.inherit.acct</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form" />
      <field name="groups_id" eval="[(6, 0, [ref('base.group_user') ])]" />
      <field name="arch" type="xml">
        <xpath expr="//field[@name='payment_term_id']" position="replace">
            <field name="payment_term_id" readonly="1" options="{'no_create': True}"/>
         </xpath>
      </field>
   </record>
<record id="sale_form_view_hold_user" model="ir.ui.view">
      <field name="name">sale.order.form.inherit.user</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form" />
       <field name="groups_id" eval="[(6, 0, [ref('account.group_account_invoice') ])]" />
      <field name="arch" type="xml">
        <xpath expr="//field[@name='payment_term_id']" position="replace">
             <field name="payment_term_id" readonly="0" options="{'no_create': True}"/>
         </xpath>
      </field>
   </record>


   <record id="sale_hold_action" model="ir.actions.act_window">
      <field name="name">Sale Hold</field>
      <field name="res_model">sale.hold</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
   </record>
      <menuitem id="menu_hold_settings" name="Holds"
                action="sale_hold_action"
            parent="sale.menu_sales_config" sequence="40" />
<!--   <menuitem id="menu_hold_settings" name="Holds" action="sale_hold_action" parent="sale.sale_menu_root" sequence="8" />-->

   <record id="account_terms_view_credit_inherit" model="ir.ui.view">
      <field name="name">account.payment.term.form.credit.inherit</field>
      <field name="model">account.payment.term</field>
      <field name="inherit_id" ref="account.view_payment_term_form" />
      <field name="arch" type="xml">
         <xpath expr="//field[@name='name']" position="after">
            <field name="auto_credit_check" string="Automatic Credit Check" groups="account.group_account_invoice" />
            <field name="default_credit_terms"  groups="account.group_account_invoice" />
            <field name="default_credit_limit" attrs="{'invisible': [('default_credit_terms', '!=', True)], 'required':[('default_credit_terms', '!=', False)]}"/>
         </xpath>
      </field>
   </record>
   <record id="account_terms_view_credit_tree_inherit" model="ir.ui.view">
      <field name="name">account.payment.term.tree.credit.inherit</field>
      <field name="model">account.payment.term</field>
      <field name="inherit_id" ref="account.view_payment_term_tree" />
      <field name="arch" type="xml">
         <xpath expr="//field[@name='name']" position="after">
            <field name="auto_credit_check" string="Automatic Credit Check" groups="account.group_account_invoice" />
            <field name="default_credit_terms" string="Default" groups="account.group_account_invoice" />
         </xpath>
      </field>
   </record>

   <record id="stock_picking_tree_hold_inherit" model="ir.ui.view">
      <field name="name">stock.picking.tree.hold.inherit</field>
      <field name="model">stock.picking</field>
      <field name="inherit_id" ref="stock.vpicktree" />
      <field name="arch" type="xml">
         <xpath expr="//field[@name='state']" position="after">
            <field name="on_hold" string="On Hold" attrs="{'invisible': [('on_hold', '=', False)]}" />
         </xpath>
      </field>
   </record>
   <record id="stock_picking_tree_hold_inherit" model="ir.ui.view">
      <field name="name">stock.picking.tree.hold.inherit</field>
      <field name="model">stock.picking</field>
      <field name="inherit_id" ref="stock.vpicktree" />
      <field name="arch" type="xml">
         <xpath expr="//field[@name='state']" position="after">
            <field name="on_hold" string="On Hold" attrs="{'invisible': [('on_hold', '=', False)]}" />
         </xpath>
      </field>
   </record>
      <record id="stock_picking_form_hold_inherit" model="ir.ui.view">
      <field name="name">stock.picking.form.hold.inherit</field>
      <field name="model">stock.picking</field>
      <field name="inherit_id" ref="stock.view_picking_form" />
      <field name="arch" type="xml">
      <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='picking_type_id']" position="after">
         <field name="on_hold" readonly="1"/>
      </xpath>
      </field>
   </record>

   <record id="stock_picking_kanban_hold_inherit" model="ir.ui.view">
      <field name="name">stock.picking.kanban.hold.inherit</field>
      <field name="model">stock.picking</field>
      <field name="inherit_id" ref="stock.stock_picking_kanban" />
      <field name="arch" type="xml">
         <xpath expr="//kanban/templates/t/div/div[1]" position="after">

            <p class="oe_module_name">
              <strong> <field name="on_hold_text"/></strong>
            </p>
         </xpath>

      </field>
   </record>

   <record id="view_partner_form_credit_inherit" model="ir.ui.view">
      <field name="name">res.partner.form.credit.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form" />
      <field name="arch" type="xml">
         <xpath expr="//field[@name='property_payment_term_id']" position="after">
            <field name="credit_limit" string="Credit Limit" />
         </xpath>
      </field>
   </record>

   <record id="view_partner_form_credit_inherit_user" model="ir.ui.view">
      <field name="name">res.partner.form.credit.inherit.user</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form" />
      <field name="groups_id" eval="[(6, 0, [ref('base.group_user') ])]" />
      <field name="arch" type="xml">
         <xpath expr="//field[@name='credit_limit']" position="attributes">
            <attribute  name="readonly">1</attribute>
         </xpath>
         <xpath expr="//field[@name='property_payment_term_id']" position="attributes">
            <attribute  name="readonly">1</attribute>
         </xpath>
      </field>
   </record>

   <record id="view_partner_form_credit_inherit_acct" model="ir.ui.view">
      <field name="name">res.partner.form.credit.inherit.acct</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form" />
      <field name="groups_id" eval="[(6, 0, [ref('account.group_account_invoice') ])]" />
      <field name="arch" type="xml">
         <xpath expr="//field[@name='credit_limit']" position="attributes">
            <attribute  name="readonly">0</attribute>
         </xpath>
         <xpath expr="//field[@name='property_payment_term_id']" position="attributes">
            <attribute  name="readonly">0</attribute>
         </xpath>
      </field>
   </record>


   <record id="sale_order_hold_view_tree" model="ir.ui.view">
      <field name="name">sale.order.hold.view.tree</field>
      <field name="model">sale.hold</field>
      <field name="arch" type="xml">
         <tree string="Mrp Jobs">
            <field name="name" />
            <field name="active" />
         </tree>
      </field>
   </record>

</data>
</odoo>

